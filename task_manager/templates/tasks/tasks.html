{% extends 'base.html' %}
{% block title %}{% endblock %}

{% block content %}

{% if messages %}
    {% for message in messages %}
    <div class="text-center alert alert-{{ message.tags }}">
             {{ message }}
    </div>
    {% endfor %}
{% endif %}

<form method="get" action="{% url 'tasks:index_page' %}">{% csrf_token %}
  {{ filter.form.as_p }}
  <input type="submit" value="took" class="btn btn-primary">
</form>

<h1 class="my-4">Задачи</h1>

<a class="btn btn-primary mb-3" href="{% url 'tasks:create_page' %}">Создать задачу</a>

<table class="table table-striped">

  <thead>
    <tr>
      <th>ID</th>
      <th>Имя</th>
      <th>Статус</th>
      <th>Автор</th>
      <th>Исполнитель</th>
      <th>Дата создания</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    {% for task in filter.qs %}
      <tr>
        <td>{{ task.id }}</td>
        <td>
          <a href="{% url 'tasks:detail_page' pk=task.id %}">{{ task.name }}</a>
        </td>
        <td>{{ task.status }}</td>
        <td>{{ task.author.username }}</td>
        <td>{{ task.executor }}</td>
        <td>{{ task.created_date }}</td>
        <td>
          <a href="{% url 'tasks:update_page' pk=task.id %}">Изменить</a>
          <br>
          <a href="{% url 'tasks:delete_page' pk=task.id %}">Удалить</a>
        </td>
      </tr>
    {% endfor %}



  </tbody>
</table>



{% endblock %}